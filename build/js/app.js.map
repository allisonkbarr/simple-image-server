{"version":3,"sources":["../../src/js/app.jsx"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["\nvar Header = React.createClass({\n\n  render() {\n    return (\n      <div className=\"container-fluid\">\n        <header>\n          <div id=\"flex-header\">\n            <h1>Tempus</h1>\n            { this.props.hasUser && <nav>\n              <a href=\"javascript:;\" onClick={actions.setLoggedInPage.bind(null, 'dashboard')} className={this.props.page === 'dashboard' && 'active'}>Dashboard</a>\n              <a href=\"javascript:;\" onClick={actions.setLoggedInPage.bind(null, 'documentation')} className={this.props.page === 'documentation' && 'active'}>Documentation</a>\n            </nav> }\n          </div>\n          { this.props.hasUser ?\n            <a className=\"btn btn-sm\" href=\"javascript:;\" onClick={actions.server.logOut}>Log out</a> :\n            <a className=\"btn btn-sm\" href=\"javascript:;\" onClick={actions.server.logIn}>Log in</a>\n          }\n        </header>\n      </div>\n    )\n  }\n})\n\nvar KeysHeader = React.createClass({\n\n  render() {\n    return (\n      <div className=\"row\">\n        <div className=\"col-xs-12\">\n          <h2>API Keys</h2>\n        </div>\n      </div>\n    )\n  }\n})\n\nvar KeysForm = React.createClass({\n\n  getInitialState() {\n    return { pendingName: '' }\n  },\n\n  updatePendingName(e) {\n    this.setState({ error: null, pendingName: e.target.value })\n  },\n\n  createKey(name) {\n    var newKey = {\n      name: name,\n      code: '',\n      stats: {\n        daily: 0,\n        monthly: 0\n      }\n    }\n    actions.server.addKey(this.props.user, newKey)\n  },\n\n  handleSubmit(e) {\n    e.preventDefault()\n    if (!this.state.pendingName) {\n      return this.setState({ error: 'Please enter a name' })\n    }\n    this.createKey(this.state.pendingName)\n    this.setState({ pendingName: '' })\n  },\n\n  render() {\n    return (\n      <form className=\"highlight\" onSubmit={this.handleSubmit}>\n        <label for=\"key-name\">Add New Key:</label>\n        <input value={this.state.pendingName} onChange={this.updatePendingName} type=\"text\" id=\"key-name\" placeholder=\"Name\" />\n        {this.state.error && <p id=\"error\">{ this.state.error }</p> }\n        <button className=\"btn\">Generate Key</button>\n      </form>\n    )\n  }\n})\n\n// [ 'somelongfirebasekey', 'the actual value' ]\nvar k = R.head\nvar v = R.nth(1)\n\nvar Key = React.createClass({\n\n  getInitialState() {\n    return { isCodeVisible: false }\n  },\n\n  toggleCodeVisibility(e) {\n    e.preventDefault()\n    this.setState({ isCodeVisible: !this.state.isCodeVisible })\n  },\n\n  renderCode(code) {\n    return this.state.isCodeVisible ? code : code.replace(/./g, '*')\n  },\n\n  render() {\n    var key = v(this.props.data)\n    return (\n      <div className=\"row table-row\">\n        <div className=\"col-sm-2 col-xs-3 table-cols name-col\">\n          { key.name }\n        </div>\n        <div className=\"col-sm-6 col-xs-9\">\n          <div className=\"key highlight\">\n            <p>{this.renderCode(this.props.data[1].code)}</p>\n            <a onClick={this.toggleCodeVisibility} href=\"#\">\n              <i className={`fa ${this.state.isCodeVisible ? 'fa-eye-slash' : 'fa-eye'} fa-md pull-right`}></i>\n            </a>\n          </div>\n        </div>\n        <div className=\"col-sm-2 reqs table-cols\">\n          <p>{ key.stats.daily }</p>\n        </div>\n        <div className=\"col-sm-2 reqs table-cols\">\n          <p>{ key.stats.monthly }</p>\n        </div>\n      </div>\n    )\n  }\n})\n\nvar Keys = React.createClass({\n\n  render() {\n\n    var list = this.props.keys.map(key => <Key key={key.code} data={key} />)\n\n    return (\n      <div className=\"container\" id=\"keys-component\">\n        <div className=\"table\">\n          <KeysHeader />\n          <KeysForm user={this.props.user} />\n          <div className=\"row table-header\">\n            <div className=\"col-sm-2 col-xs-3 name-col name\">\n              Name\n            </div>\n            <div className=\"col-sm-6 col-xs-9\">\n              <p>Key</p>\n            </div>\n            <div className=\"col-sm-2 reqs\">\n              <p>Req's today</p>\n            </div>\n            <div className=\"col-sm-2 reqs\">\n              <p>Req's this month</p>\n            </div>\n          </div>\n          { list.length ? list : <div className=\"highlight no-keys-yet\">No keys yet.</div>}\n        </div>\n      </div>\n    )\n  }\n})\n\nvar Dashboard = React.createClass({\n\n  render() {\n    return (\n      <div id=\"dashboard\">\n        <Keys keys={this.props.keys} user={this.props.user} />\n      </div>\n    )\n  }\n})\n\nvar Documentation = React.createClass({\n\n  render() {\n    return (\n      <div id=\"documentation\" className=\"container\">\n        <h2>Documentation</h2>\n        <div className=\"highlight\">\n          <p>Tempus uses JIMP for image manipulation. All features of JIMP are supported.</p>\n          <a href=\"https://github.com/oliver-moran/jimp\" target=\"_blank\">JIMP documentation on GitHub</a>\n        </div>\n      </div>\n    )\n  }\n})\n\nvar Landing = React.createClass({\n\n  render() {\n    return (\n      <div id=\"landing\">\n        <div className=\"jumbotron masthead\">\n          <div className=\"container\">\n            <i className=\"fa fa-picture-o fa-xl\" aria-hidden=\"true\"></i>\n            <p>An image server built for everyday use.</p>\n            <button onClick={actions.server.logIn} className=\"btn btn-lg\">Sign up with Google</button>\n          </div>\n        </div>\n        <div className=\"container\">\n          <h2>Features</h2>\n          <div className=\"row\">\n            <div className=\"col-sm-4 col-xs-12 feature\">\n              <i className=\"fa fa-picture-o fa-lg\"></i> <i className=\"fa fa-picture-o fa-md\"></i> <i className=\"fa fa-picture-o fa-sm\"></i>\n              <h4>Image Resizing</h4>\n              <p>Lorem ipsum dolor sit amet, pro ancillae indoctum no. Sint causae in eum, ne usu nulla reprimique.</p>\n            </div>\n            <div className=\"col-sm-4 col-xs-12 feature\">\n              <i className=\"fa fa-fighter-jet fa-lg\"></i>\n              <h4>Fast</h4>\n              <p>An quo phaedrum posidonium appellantur, eros altera cu est.</p>\n            </div>\n            <div className=\"col-sm-4 col-xs-12 feature\">\n              <i className=\"fa fa-simplybuilt fa-lg\"></i>\n              <h4>Simple</h4>\n              <p>Id est impedit vituperatoribus, ne nam dicant maiorum vulputate, eam ei mucius graeco.</p>\n            </div>\n          </div>\n          <h2>Subscription Plans</h2>\n          <div id=\"subs\">\n            <div className=\"gray-box\">\n              <h4>Tier 1:</h4>\n              <h4>Hobbyist</h4>\n              <p className=\"sub-desc\">Id est impedit vituperatoribus, ne nam dicant maiorum vulputate, eam ei mucius graeco.</p>\n              <div className=\"circle\">\n                <p className=\"big-text\">Free</p>\n              </div>\n            </div>\n            <div className=\"gray-box\">\n              <h4>Tier 2:</h4>\n              <h4>Professional</h4>\n              <p className=\"sub-desc\">Id est impedit vituperatoribus, ne nam dicant maiorum vulputate, eam ei mucius graeco.</p>\n              <div className=\"circle\">\n                <p className=\"big-text\">$10</p>\n                <p id=\"permonth\">per month</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n})\n\n\n\n// APP\n\n\nvar App = React.createClass({\n\n  displayLoggedInPage() {\n    return this.props.view.loggedInPage === 'dashboard' ?\n      <Dashboard keys={this.props.keys} user={this.props.user} /> :\n      <Documentation />\n  },\n\n  render() {\n    return (\n      <div id=\"app-component\">\n        <Header hasUser={this.props.user} page={this.props.view.loggedInPage} />\n        { this.props.user ? this.displayLoggedInPage() : <Landing /> }\n      </div>\n    )\n  }\n})\n\n\n\n\n// IMPLEMENTATION\n\nvar state = {\n  user: null,\n  keys: [],\n  view: {\n    loggedInPage: 'dashboard'\n  }\n}\n\n\nvar actions = {\n\n  logIn(user) {\n    var newState = Object.assign(state, { user })\n    render(newState)\n  },\n  logOut() {\n    var newState = Object.assign(state, { user: null, keys: [] })\n    render(newState)\n  },\n  setKeys(keys) {\n    var newState = Object.assign(state, { keys })\n    render(newState)\n  },\n  setLoggedInPage(loggedInPage) {\n    var newViewState = Object.assign(state.view, { loggedInPage })\n    var newState = Object.assign(state, { view: newViewState })\n    render(newState)\n  },\n\n  server: {\n\n    logOut() {\n      fb.unauth()\n    },\n\n    addKey(user, newKey) {\n      var ref = fbKeys.child(user.uid).push(newKey)\n      var code = CryptoJS.MD5(user.uid + ref.key()).toString()\n      ref.update({ code })\n      fbKeysByCode.child(code).set({ keyKey: ref.key(), userKey: user.uid })\n    },\n\n    logIn() {\n      fb.authWithOAuthPopup('google', (e, authData) => authData)\n    }\n  }\n}\n\nvar fb = new Firebase(\"https://simple-image-server.firebaseio.com/\")\nvar fbUsers = fb.child('users')\nvar fbKeys = fb.child('keys')\nvar fbKeysByCode = fb.child('keysByCode')\n\nfb.onAuth((authData) => {\n  if (authData) {\n    actions.logIn(authData)\n    fbUsers.child(authData.uid).once('value', (snap) => {\n      if (!snap.val()) {\n        fbUsers.child(authData.uid).set(authData)\n      }\n      fbKeys.child(authData.uid).on('value', (snap) => {\n        if (!snap.val()) return\n        actions.setKeys(R.toPairs(snap.val()))\n      })\n    })\n  }\n  else actions.logOut()\n})\n\nfunction render(state) {\n  console.log(state)\n  React.render(<App {...state} />, document.getElementById('app'))\n}\n\nrender(state)\n"]}